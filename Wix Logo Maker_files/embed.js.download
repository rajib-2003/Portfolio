!function(){var t={23523:function(t,e,i){"use strict";var s=this&&this.__createBinding||(Object.create?function(t,e,i,s){void 0===s&&(s=i);var o=Object.getOwnPropertyDescriptor(e,i);o&&!("get"in o?!e.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return e[i]}}),Object.defineProperty(t,s,o)}:function(t,e,i,s){void 0===s&&(s=i),t[s]=e[i]}),o=this&&this.__exportStar||function(t,e){for(var i in t)"default"===i||Object.prototype.hasOwnProperty.call(e,i)||s(e,t,i)},n=this&&this.__awaiter||function(t,e,i,s){return new(i||(i=Promise))((function(o,n){function a(t){try{h(s.next(t))}catch(t){n(t)}}function r(t){try{h(s.throw(t))}catch(t){n(t)}}function h(t){var e;t.done?o(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(a,r)}h((s=s.apply(t,e||[])).next())}))},a=this&&this.__generator||function(t,e){var i,s,o,n,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return n={next:r(0),throw:r(1),return:r(2)},"function"==typeof Symbol&&(n[Symbol.iterator]=function(){return this}),n;function r(r){return function(h){return function(r){if(i)throw new TypeError("Generator is already executing.");for(;n&&(n=0,r[0]&&(a=0)),a;)try{if(i=1,s&&(o=2&r[0]?s.return:r[0]?s.throw||((o=s.return)&&o.call(s),0):s.next)&&!(o=o.call(s,r[1])).done)return o;switch(s=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,s=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==r[0]&&2!==r[0])){a=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){a.label=r[1];break}if(6===r[0]&&a.label<o[1]){a.label=o[1],o=r;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(r);break}o[2]&&a.ops.pop(),a.trys.pop();continue}r=e.call(t,a)}catch(t){r=[6,t],s=0}finally{i=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,h])}}},r=this&&this.__spreadArray||function(t,e,i){if(i||2===arguments.length)for(var s,o=0,n=e.length;o<n;o++)!s&&o in e||(s||(s=Array.prototype.slice.call(e,0,o)),s[o]=e[o]);return t.concat(s||Array.prototype.slice.call(e))};Object.defineProperty(e,"__esModule",{value:!0}),e.AnswersWidget=void 0;var h=i(89574);o(i(89574),e);var l=function(){function t(){var t=this;this.sdkMemory={location:{url:window.location.href,title:document.title}},this.getContactOptionsRequests=[],this.onChatMessageReceivedCallbacks=[],this.onChatMessageSentCallbacks=[],this.onChatStartedCallbacks=[],this.viewVisibleCallbacks=[],this.eventListenerCallbacks=[],this.chatTicketId="",this.init=function(e,i){t.setFrame(e),t.setListener(),e.src="https://".concat(i.tenant,".wixanswers.com/apps/widget/v1/").concat(i.tenant,"/").concat(i.widgetId,"/view/").concat(i.locale)},this.cleanup=this.removeListener,this.addEventListener=function(e){t.eventListenerCallbacks.push(e)},this.addHtmlToHomePageHeader=function(e){t.sendScopedPostMessage({type:h.WidgetMessageType.SET_CUSTOM_HOME_PAGE_HEADER,data:{headerHtml:e}}),t.sdkMemory.customHomePageHeader=e},this.addHtmlToKbHeader=function(e){t.sendScopedPostMessage({type:h.WidgetMessageType.SET_CUSTOM_KB_HEADER,data:{headerHtml:e}}),t.sdkMemory.customKbHeader=e},this.featuredArticlesSearch=function(e){t.sdkMemory.featuredArticleTerm=e,t.sendScopedPostMessage({type:h.WidgetMessageType.FEATURED_ARTICLE_SEARCH,data:{term:e}})},this.fillContactForm=function(e){t.sendScopedPostMessage({type:h.WidgetMessageType.FILL_CONTACT_FORM,data:{formData:e}}),t.sdkMemory.contactFormData=e},this.getContactOptions=function(){return t.sendScopedPostMessage({type:h.WidgetMessageType.CONTACT_OPTIONS_REQUEST,data:{}}),new Promise((function(e){t.getContactOptionsRequests.push(e)}))},this.goToCallback=function(){t.sdkMemory.goToCallback=!0,t.sendScopedPostMessage({type:h.WidgetMessageType.GO_TO_CALLBACK,data:{}})},this.goToCategory=function(e){t.sdkMemory.goToCategoryId=e,t.sendScopedPostMessage({type:h.WidgetMessageType.GO_TO_CATEGORY,data:{categoryId:e}})},this.goToChat=function(e){t.sdkMemory.goToChat=e||!0,t.sendScopedPostMessage({type:h.WidgetMessageType.GO_TO_CHAT,data:{ticketId:e}})},this.goToContact=function(){t.sdkMemory.goToContact=!0,t.sendScopedPostMessage({type:h.WidgetMessageType.GO_TO_CONTACT,data:{}})},this.identifyUser=function(e,i){t.sendScopedPostMessage({type:h.WidgetMessageType.IDENTIFY_USER,data:{userData:e,autofill:i}}),t.sdkMemory.user=e,t.sdkMemory.autofill=i},this.initiateChatbot=function(e,i,s){e&&i&&(t.sdkMemory.chatbot={schema:e,callback:i,title:s},t.sendScopedPostMessage({type:h.WidgetMessageType.CHATBOT_INITIATED,data:{schema:e,title:s}}))},this.preventReopeningChat=function(e){void 0===e&&(e=!0),t.sendScopedPostMessage({type:h.WidgetMessageType.PREVENT_REOPENING_CHAT,data:{prevent:e}}),t.sdkMemory.preventReopeningChat=e},this.sendChatMessage=function(e){t.sendScopedPostMessage({type:h.WidgetMessageType.SEND_CHAT_MESSAGE,data:e}),t.sdkMemory.chatMessage=e},this.setChatSubject=function(e){t.sendScopedPostMessage({type:h.WidgetMessageType.SET_CHAT_SUBJECT,data:{subject:e}}),t.sdkMemory.chatSubject=e},this.setCustomFields=function(e){t.sendScopedPostMessage({type:h.WidgetMessageType.SET_CUSTOM_FIELDS,data:{customFields:e}}),t.sdkMemory.customFields=e},this.setCustomFieldsConfiguration=function(e){t.sdkMemory.customFieldsConfigurationData=e,t.sendScopedPostMessage({type:h.WidgetMessageType.SET_CUSTOM_FIELDS_CONFIGURATION,data:{customFieldsConfigurationData:e}})},this.setFeaturedArticles=function(e){t.sdkMemory.featuredArticleIds=e,t.sendScopedPostMessage({type:h.WidgetMessageType.SET_FEATURED_ARTICLES,data:{articleIds:e}})},this.setLabels=function(e){t.sendScopedPostMessage({type:h.WidgetMessageType.SET_LABELS,data:{labelIds:e}}),t.sdkMemory.labelIds=e},this.setOverrideTexts=function(e){t.sendScopedPostMessage({type:h.WidgetMessageType.SET_OVERRIDE_TEXTS,data:{overrideTexts:e}}),t.sdkMemory.overrideTexts=e},this.onChatMessageReceived=function(e){t.onChatMessageReceivedCallbacks=r(r([],t.onChatMessageReceivedCallbacks,!0),[e],!1)},this.onChatMessageSent=function(e){t.onChatMessageSentCallbacks=r(r([],t.onChatMessageSentCallbacks,!0),[e],!1)},this.onChatStarted=function(e){t.onChatStartedCallbacks=r(r([],t.onChatStartedCallbacks,!0),[e],!1),t.chatTicketId&&e(t.chatTicketId)},this.onViewVisible=function(e){t.viewVisibleCallbacks.push(e)},this.sendScopedPostMessage=function(e){var i;(null===(i=t.frame)||void 0===i?void 0:i.contentWindow)&&t.sendPostMessage({__ansWidget:e})},this.sendPostMessage=function(e){var i;(null===(i=t.frame)||void 0===i?void 0:i.contentWindow)&&t.frame.contentWindow.postMessage(e,"*")},this.listener=function(e){return n(t,void 0,void 0,(function(){return a(this,(function(t){switch(t.label){case 0:return this.isMessageFromFrame(e)?[4,this.handleFrameMessage(e)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}}return t.prototype.goToArticle=function(t){this.sdkMemory.goToArticleId=t,this.sendScopedPostMessage({type:h.WidgetMessageType.GO_TO_ARTICLE,data:{articleId:t}})},t.prototype.goToChatList=function(){this.sdkMemory.goToChatList=!0,this.sendScopedPostMessage({type:h.WidgetMessageType.GO_TO_CHAT_LIST,data:{}})},t.prototype.goToHome=function(){this.sdkMemory.goToHome=!0,this.sendScopedPostMessage({type:h.WidgetMessageType.GO_TO_HOME,data:{}})},t.prototype.sendNotification=function(){this.sendScopedPostMessage({type:h.WidgetMessageType.SEND_NOTIFICATION,data:{}})},t.prototype.setFrame=function(t){this.frame=t},t.prototype.handleFrameMessage=function(t){return n(this,void 0,void 0,(function(){var e,i;return a(this,(function(s){switch(s.label){case 0:switch(e=t.data.__ansWidget,e.type){case h.WidgetMessageType.CHAT_MESSAGE_RECEIVED:return[3,1];case h.WidgetMessageType.CHAT_MESSAGE_SENT:return[3,2];case h.WidgetMessageType.CHATBOT_USER_INPUT:return[3,3];case h.WidgetMessageType.CONTACT_OPTIONS_RESPONSE:return[3,5];case h.WidgetMessageType.ON_CHAT_STARTED:return[3,6];case h.WidgetMessageType.VIEW_LOADED:return[3,7];case h.WidgetMessageType.VIEW_VISIBLE:return[3,8];case h.WidgetMessageType.WIDGET_EVENT:return[3,9]}return[3,10];case 1:return this.onChatMessageReceivedCallbacks.forEach((function(t){return t(e.data)})),[3,10];case 2:return this.onChatMessageSentCallbacks.forEach((function(t){return t(e.data)})),[3,10];case 3:return this.sdkMemory.chatbot&&this.sdkMemory.chatbot.callback?[4,this.sdkMemory.chatbot.callback(e.data.value,e.data.type,e.data.stepId)]:[2];case 4:return i=s.sent(),this.sendScopedPostMessage({type:h.WidgetMessageType.CHATBOT_NEXT_STEP,data:{schema:i}}),[3,10];case 5:return this.getContactOptionsRequests.forEach((function(t){return t(e.data.contactOptions)})),[3,10];case 6:return this.onChatStartedCallbacks.forEach((function(t){return t(e.data.ticketId)})),[3,10];case 7:return this.onViewLoaded(),[3,10];case 8:return this.viewVisibleCallbacks.forEach((function(t){return t()})),[3,10];case 9:return this.eventListenerCallbacks.forEach((function(t){return t(e.data.event)})),[3,10];case 10:return[2]}}))}))},t.prototype.isMessageFromFrame=function(t){return this.frame&&t.source===this.frame.contentWindow},t.prototype.isAnswersMessage=function(t){var e;return!!(null===(e=t.data)||void 0===e?void 0:e.__ansWidget)},t.prototype.onViewLoaded=function(){var t=this.sdkMemory,e=t.goToArticleId,i=t.location,s=t.focusState,o=t.isOpen,n=t.goToCategoryId,a=t.goToCallback,r=t.featuredArticleTerm,l=t.featuredArticleIds,c=t.goToContact,d=t.goToChat,p=t.goToChatList,u=t.labelIds,g=t.user,T=t.chatMessage,C=t.overrideTexts,m=t.customHomePageHeader,E=t.customKbHeader,f=t.customFields,_=t.contactFormData,I=t.preventReopeningChat,S=t.chatbot,A=t.customFieldsConfigurationData,y=t.chatSubject,M=t.autofill,w=t.goToHome;this.sendScopedPostMessage({type:h.WidgetMessageType.LOCATION_CHANGED,data:i}),this.sendScopedPostMessage({type:h.WidgetMessageType.WINDOW_FOCUS,data:{hasFocus:!!s}}),this.sendScopedPostMessage({type:h.WidgetMessageType.WIDGET_OPEN,data:{isOpen:!!o}}),e&&this.goToArticle(e),n&&this.goToCategory(n),r&&this.featuredArticlesSearch(r),l&&this.setFeaturedArticles(l),c&&this.goToContact(),d&&("string"==typeof d?this.goToChat(d):this.goToChat()),p&&this.goToChatList(),a&&this.goToCallback(),w&&this.goToHome(),u&&this.setLabels(u),g&&this.identifyUser(g,M),T&&this.sendChatMessage(T),C&&this.setOverrideTexts(C),m&&this.addHtmlToHomePageHeader(m),E&&this.addHtmlToKbHeader(E),f&&this.setCustomFields(f),_&&this.fillContactForm(_),I&&this.preventReopeningChat(I),S&&this.sendScopedPostMessage({type:h.WidgetMessageType.CHATBOT_INITIATED,data:{schema:S.schema,title:S.title}}),A&&this.setCustomFieldsConfiguration(A),y&&this.setChatSubject(y)},t.prototype.setListener=function(){window.addEventListener("message",this.listener,!1)},t.prototype.removeListener=function(){window.removeEventListener("message",this.listener)},t}();e.AnswersWidget=l},66133:function(t,e){"use strict";var i;Object.defineProperty(e,"__esModule",{value:!0}),e.StepTypes=void 0,function(t){t.TEXT="text",t.BUTTON="button",t.CONTACT="contact",t.LIVE_CHAT="live-chat"}(i||(e.StepTypes=i={}))},87978:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0})},46417:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0})},61521:function(t,e){"use strict";var i;Object.defineProperty(e,"__esModule",{value:!0}),e.EventType=void 0,function(t){t.OPEN="OPEN",t.CLOSE="CLOSE",t.FIRST_OPEN="FIRST_OPEN",t.HOME_VIEW="HOME_VIEW",t.CATEGORY_VIEW="CATEGORY_VIEW",t.FEATURED_ARTICLE_CLICK="FEATURED_ARTICLE_CLICK",t.HOME_CATEGORY_CLICK="HOME_CATEGORY_CLICK",t.CATEGORY_LIST_CLICK="CATEGORY_LIST_CLICK",t.ARTICLE_LIST_CLICK="ARTICLE_LIST_CLICK",t.ARTICLE_VIEW="ARTICLE_VIEW",t.ARTICLE_FEEDBACK_VOTE="ARTICLE_FEEDBACK_VOTE",t.VOTE_FOR_FEATURE="VOTE_FOR_FEATURE",t.VOTE_KNOWN_ISSUE="VOTE_KNOWN_ISSUE",t.SEARCH_IGNORED="SEARCH_IGNORED",t.SEARCH_NO_RESULT="SEARCH_NO_RESULT",t.SEARCH_RESULT_CLICK="SEARCH_RESULT_CLICK",t.SEARCH="SEARCH",t.SEARCH_RESULT="SEARCH_RESULT",t.CHAT_VIEW="CHAT_VIEW",t.CHAT_CLOSED="CHAT_CLOSED",t.CHAT_STARTED="CHAT_STARTED",t.CHAT_STARTED_SUCCESS="CHAT_STARTED_SUCCESS",t.CHAT_STARTED_FAIL="CHAT_STARTED_FAIL",t.CHAT_DEBUG="CHAT_DEBUG",t.SUBSCRIBE_USER_TIMELINE="SUBSCRIBE_USER_TIMELINE",t.SUBSCRIBE_USER_TIMELINE_SUCCESS="SUBSCRIBE_USER_TIMELINE_SUCCESS",t.SUBSCRIBE_USER_TIMELINE_FAIL="SUBSCRIBE_USER_TIMELINE_FAIL",t.SEND_CHAT_MESSAGE="SEND_CHAT_MESSAGE",t.SEND_CHAT_MESSAGE_SUCCESS="SEND_CHAT_MESSAGE_SUCCESS",t.SEND_CHAT_MESSAGE_FAIL="SEND_CHAT_MESSAGE_FAIL",t.RECEIVE_CHAT_MESSAGE="RECEIVE_CHAT_MESSAGE",t.PUBSUB_EVENT="PUBSUB_EVENT",t.CHAT_UNLOAD="CHAT_UNLOAD",t.CHAT_HIDDEN="CHAT_HIDDEN",t.CHAT_VISIBLE="CHAT_VISIBLE",t.CHAT_TIMELINE_UPDATED="CHAT_TIMELINE_UPDATED",t.CHAT_ONLINE="CHAT_ONLINE",t.CHAT_FORM_CUSTOM_FIELD_CHANGED="CHAT_FORM_CUSTOM_FIELD_CHANGED",t.SUBMIT_CHAT_FORM="SUBMIT_CHAT_FORM",t.CHAT_VIEW_CHANGED="CHAT_VIEW_CHANGED",t.GET_AUTH_TOKEN="GET_AUTH_TOKEN",t.GET_AUTH_TOKEN_SUCCESS="GET_AUTH_TOKEN_SUCCESS",t.GET_AUTH_TOKEN_FAIL="GET_AUTH_TOKEN_FAIL",t.CALLBACK_VIEW="CALLBACK_VIEW",t.CALLBACK_SUBMIT="CALLBACK_SUBMIT",t.CALLBACK_SUBMIT_SUCCESS="CALLBACK_SUBMIT_SUCCESS",t.CALLBACK_SUBMIT_FAIL="CALLBACK_SUBMIT_FAIL",t.CALLBACK_VERIFICATION_SUBMIT="CALLBACK_VERIFICATION_SUBMIT",t.CALLBACK_VERIFICATION_SUBMIT_SUCCESS="CALLBACK_VERIFICATION_SUBMIT_SUCCESS",t.CALLBACK_VERIFICATION_SUBMIT_FAIL="CALLBACK_VERIFICATION_SUBMIT_FAIL",t.RESEND_VERIFICATION="RESEND_VERIFICATION",t.RESEND_VERIFICATION_SUCCESS="RESEND_VERIFICATION_SUCCESS",t.RESEND_VERIFICATION_FAIL="RESEND_VERIFICATION_FAIL",t.CHANGE_VERIFICATION_MODE="CHANGE_VERIFICATION_MODE",t.TICKET_FORM_VIEW="TICKET_FORM_VIEW",t.TICKET_FORM_SUBMIT="TICKET_FORM_SUBMIT",t.TICKET_FORM_SUBMIT_ATTEMPT="SUBMIT_TICKET_ATTEMPT",t.TICKET_FORM_SUBMIT_SUCCESS="TICKET_FORM_SUBMIT_SUCCESS",t.TICKET_FORM_SUBMIT_FAIL="TICKET_FORM_SUBMIT_FAIL",t.TICKET_FORM_SUBMIT_VALIDATION_FAIL="TICKET_FORM_SUBMIT_VALIDATION_FAIL",t.TICKET_FORM_CAPTCHA_RESOLVED="TICKET_FORM_CAPTCHA_RESOLVED",t.TICKET_FORM_CUSTOM_FIELD_CHANGED="TICKET_FORM_CUSTOM_FIELD_CHANGED",t.CUSTOM_EVENT="CUSTOM_EVENT",t.NAVIGATION="NAVIGATION",t.FEATURED_ARTICLES_UPDATED="FEATURED_ARTICLES_UPDATED",t.OPEN_MODALS_CHANGE="OPEN_MODALS_CHANGE",t.CHATBOT_STEP_REACHED="CHATBOT_STEP_REACHED",t.CHATBOT_TICKET_CREATED="CHATBOT_TICKET_CREATED",t.CHATBOT_TRANSCRIPT="CHATBOT_TRANSCRIPT"}(i||(e.EventType=i={}))},89574:function(t,e,i){"use strict";var s=this&&this.__createBinding||(Object.create?function(t,e,i,s){void 0===s&&(s=i);var o=Object.getOwnPropertyDescriptor(e,i);o&&!("get"in o?!e.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return e[i]}}),Object.defineProperty(t,s,o)}:function(t,e,i,s){void 0===s&&(s=i),t[s]=e[i]}),o=this&&this.__exportStar||function(t,e){for(var i in t)"default"===i||Object.prototype.hasOwnProperty.call(e,i)||s(e,t,i)};Object.defineProperty(e,"__esModule",{value:!0}),o(i(61521),e),o(i(75450),e),o(i(31956),e),o(i(77385),e),o(i(74646),e),o(i(87978),e),o(i(66133),e),o(i(46417),e)},75450:function(t,e){"use strict";var i;Object.defineProperty(e,"__esModule",{value:!0}),e.WidgetMessageType=void 0,function(t){t.IDENTIFY_USER="identify-user",t.SEND_CHAT_MESSAGE="send-chat-message",t.SET_CUSTOM_FIELDS="set-custom-fields",t.ON_CHAT_STARTED="on-chat-started",t.CHAT_MESSAGE_RECEIVED="chat-message-received",t.CHAT_MESSAGE_SENT="chat-message-sent",t.SET_CUSTOM_KB_HEADER="set-custom-kb-header",t.SET_CUSTOM_HOME_PAGE_HEADER="set-custom-home-page",t.AUTHENTICATOR_ADDED="authenticator-added",t.VIEW_LOADED="view-loaded",t.VIEW_VISIBLE="view-visible",t.AUTHENTICATION_REQUEST="authentication-request",t.AUTHENTICATION_RESPONSE="authentication-response",t.ACTIVE_CHAT_COUNT="active-chat-count",t.SET_OVERRIDE_TEXTS="set-override-texts",t.LOCATION_CHANGED="location-changed",t.GO_TO_CATEGORY="go-to-category",t.GO_TO_ARTICLE="go-to-article",t.WINDOW_FOCUS="window-focus",t.WIDGET_OPEN="widget-open",t.UPDATE_DRAG_AREA="update-drag-area",t.COLLAPSE_WIDGET="collapse-widget",t.SET_LABELS="set-labels",t.DISPLAY_IMAGE="display-image",t.CHATBOT_INITIATED="chatbot-initiated",t.CHATBOT_USER_INPUT="chatbot-user-input",t.CHATBOT_NEXT_STEP="chatbot-next-step",t.GO_TO_CONTACT="go-to-contact",t.GO_TO_CHAT="go-to-chat",t.GO_TO_CHAT_LIST="go-to-chat-list",t.GO_TO_CALLBACK="go-to-callback",t.FILL_CONTACT_FORM="fill-contact-form",t.FEATURED_ARTICLE_SEARCH="featured-article-search",t.SET_FEATURED_ARTICLES="set-featured-articles",t.WIDGET_EVENT="widget-event",t.CONTACT_OPTIONS_REQUEST="contact-options-request",t.CONTACT_OPTIONS_RESPONSE="contact-options-response",t.PREVENT_REOPENING_CHAT="prevent-reopening-chat",t.SET_CUSTOM_FIELDS_CONFIGURATION="set-custom-fields-configuration",t.SET_CHAT_SUBJECT="set-chat-subject",t.GO_TO_HOME="go-to-home",t.SEND_NOTIFICATION="send-notification"}(i||(e.WidgetMessageType=i={}))},31956:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0})},77385:function(t,e){"use strict";var i;Object.defineProperty(e,"__esModule",{value:!0}),e.VerificationMode=void 0,function(t){t.CALL="call",t.SMS="sms"}(i||(e.VerificationMode=i={}))},74646:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0})},26290:function(t,e,i){var s=i(47739);t.exports=function(t,e,i){return(e=s(e))in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t},t.exports.__esModule=!0,t.exports.default=t.exports},68064:function(t,e,i){var s=i(67425).default;t.exports=function(t,e){if("object"!==s(t)||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var o=i.call(t,e||"default");if("object"!==s(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)},t.exports.__esModule=!0,t.exports.default=t.exports},47739:function(t,e,i){var s=i(67425).default,o=i(68064);t.exports=function(t){var e=o(t,"string");return"symbol"===s(e)?e:String(e)},t.exports.__esModule=!0,t.exports.default=t.exports},67425:function(t){function e(i){return t.exports=e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t.exports.__esModule=!0,t.exports.default=t.exports,e(i)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports}},e={};function i(s){var o=e[s];if(void 0!==o)return o.exports;var n=e[s]={exports:{}};return t[s].call(n.exports,n,n.exports,i),n.exports}i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,{a:e}),e},i.d=function(t,e){for(var s in e)i.o(e,s)&&!i.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:e[s]})},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)};var s={};!function(){"use strict";i.d(s,{Ff:function(){return rt},Nz:function(){return ht},dD:function(){return ot},rS:function(){return nt},gV:function(){return st},Nq:function(){return it},Kp:function(){return et}});var t=i(26290),e=i.n(t);const o="answers-widget-launcher-container",n=(t,e)=>{for(const i in e)e.hasOwnProperty(i)&&"string"==typeof i&&(t.style[i]=e[i])},a=function(t,e){void 0===e&&(e=["#ffffff","#20455e"]);return e.reduce(((e,i)=>{const s=((t,e)=>{const i=t=>(t=t.replace("#",""),{r:parseInt(t.substr(0,2),16),g:parseInt(t.substr(2,2),16),b:parseInt(t.substr(4,2),16)}),s=i(t),o=i(e);return Math.max(s.r,o.r)-Math.min(s.r,o.r)+(Math.max(s.g,o.g)-Math.min(s.g,o.g))+(Math.max(s.b,o.b)-Math.min(s.b,o.b))})(t,i);return s>e.diff?{diff:s,color:i}:e}),{diff:0,color:e&&e[0]}).color},r=(t,e)=>({x:t,y:e}),h=(t,e)=>r(t.x+e.x,t.y+e.y),l=(t,e,i,s)=>({minLeft:s,maxBottom:i,maxRight:e,minTop:t}),c=(t,e,i,s)=>({minX:t,maxX:i,minY:e,maxY:s}),d=(t,e,i,s)=>{const o=t.getBoundingClientRect(),{height:n,width:a,left:h,top:l}=o,{x:c,y:d}=s||r(0,0),p=h-c,u=l-d;return{minX:e.minLeft-p,minY:e.minTop-u,maxX:i.x-a-e.maxRight-p,maxY:i.y-n-e.maxBottom-u}},p=(t,e)=>{const{minX:i,minY:s,maxX:o,maxY:n}=e,{x:a,y:r}=t;return{x:Math.min(o,Math.max(i,a)),y:Math.min(n,Math.max(s,r))}},u=function(t,e,i,s,o){void 0===o&&(o=8);let n=r(0,0),a=!1;const h=t=>{a&&(a=!1,s(t)),document.documentElement.removeEventListener("mousemove",l),document.documentElement.removeEventListener("touchmove",l),document.documentElement.removeEventListener("mouseup",h),document.documentElement.removeEventListener("touchstart",h)},l=t=>{const s=t.clientX-n.x,h=t.clientY-n.y,l=r(s,h);!a&&(t=>{let{x:e,y:i}=t;return Math.sqrt(Math.pow(e,2)+Math.pow(i,2))})(l)>=o&&(a=!0,e(l,t)),a&&i(r(s,h),t)};t.onmousedown=t=>{n=r(t.clientX,t.clientY),document.documentElement.addEventListener("mousemove",l),document.documentElement.addEventListener("touchmove",l),document.documentElement.addEventListener("mouseup",h),document.documentElement.addEventListener("touchstart",h)}},g=()=>{const t=window.navigator.userAgent,e=t.indexOf("MSIE "),i=t.indexOf("Trident/"),s=t.indexOf("Edge/");return e>0||i>0||s>0},T=t=>t.replace("\\'","'"),C='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16"><path fill-rule="evenodd" d="M15.465.53l.007.008a1.834 1.834 0 01-.007 2.589l-4.952 4.941 4.786 4.826a1.827 1.827 0 01-.005 2.576 1.804 1.804 0 01-2.56-.007l-4.78-4.841-4.85 4.841a1.826 1.826 0 01-2.567.013 1.786 1.786 0 01-.028-2.525l.012-.013 4.885-4.897L.53 3.103A1.836 1.836 0 01.516.536 1.757 1.757 0 013.027.52l4.927 4.967L12.895.534a1.817 1.817 0 012.57-.003z"/></svg>',m="#ffffff";class E{constructor(t){e()(this,"props",void 0),e()(this,"openLauncherIcon",void 0),e()(this,"closeLauncherIcon",void 0),e()(this,"launcherIcon",void 0),e()(this,"launcherIconContainer",void 0),e()(this,"dragHandle",void 0),e()(this,"unreadMessagesElement",void 0),e()(this,"dragging",!1),e()(this,"hide",(()=>{this.launcherIconContainer.style.display="none"})),e()(this,"show",(()=>{this.launcherIconContainer.style.display="block"})),e()(this,"onDragStart",(()=>{this.dragging=!0,this.props.onDragStart(),this.launcherIconContainer.style.transition=""})),e()(this,"onDragEnd",(()=>{setTimeout((()=>{this.dragging=!1}),1),this.props.onDragEnd(),this.launcherIconContainer.style.transition="transform .1s ease-in-out"})),e()(this,"updateContainerStyle",(()=>{const{props:t}=this,{offset:e}=t;n(this.launcherIconContainer,(t=>{const{width:e,draggable:i,offset:s,convexity:o,marginLeft:n,marginRight:a,marginBottom:r,direction:h}=t,l=t.width>=50?21:17,c={bottom:r,boxSizing:"border-box",cursor:"pointer",fontSize:"25px",position:"fixed",textAlign:"center",fill:"currentColor",verticalAlign:"sub",left:n,right:a,zIndex:"9"},d=Math.floor((e+6)/4*o),p="right"===h?"":"scaleX(-1)",u={background:m,padding:"3px",borderRadius:d+"px 12px 12px "+d+"px",height:e+6+"px",minWidth:e+l+"px",maxWidth:e+l+"px",boxShadow:"0 0 14px 0 rgba(22, 45, 61, 0.36)",transform:"translate("+s.x+"px, "+s.y+"px) "+p,cursor:"move"};return{...c,...i?u:{height:e+"px",minWidth:e+"px",maxWidth:e+"px"}}})({...t,offset:e}))})),e()(this,"updateStyleAndPosition",(()=>{const{backgroundColor:t,textColor:e,convexity:i,width:s}=this.props,o=Math.floor(s/4*i),r=this.launcherIcon;r.style.backgroundColor=""+t,r.style.color=""+e,r.style.borderRadius=o+"px",this.updateContainerStyle(),n(this.dragHandle,(t=>{const e=t.width>=50,i={display:"flex",justifyContent:"center",width:"10px",transform:"translateY(-50%)",fill:a(m,[t.backgroundColor,"#737a9e"]),position:"absolute",fontSize:"19px",letterSpacing:"-0.6px",right:e?"4px":"2px",top:"50%",cursor:"move",userSelect:"none"};return t.draggable?i:{display:"none"}})(this.props))})),e()(this,"initializeOpenLauncherIcon",(()=>{const{width:t,pimpleColor:e,alwaysShowPimple:i,unreadMessagesCount:s}=this.props,o={pimpleColor:e,alwaysShowPimple:i,unreadMessagesCount:s,launcherSize:t},a=this.openLauncherIcon;a.id="open-launcher-icon",n(a,(t=>({transition:"transform 0.2s ease",position:"absolute",top:0,left:0,width:t+"px",height:t+"px",display:"flex",alignItems:"center",justifyContent:"center"}))(t)),n(this.unreadMessagesElement,(t=>{const e=t.launcherSize>=50,i=e?"24px":"22px",s=e?"20px":"18px",o=t.unreadMessagesCount?i:s,n=t.unreadMessagesCount?"-6px":"-4px";return{position:"absolute",height:o,minWidth:o,backgroundColor:t.pimpleColor,borderRadius:"12px",fontSize:"12px",fontWeight:"bold",fontFamily:"sans-serif",lineHeight:"20px",border:"2px solid white",top:n,left:n,boxSizing:"border-box",display:t.alwaysShowPimple||t.unreadMessagesCount?"block":"none"}})(o)),this.unreadMessagesElement.innerText=""+(s||"")})),e()(this,"updateOpenLauncherIcon",(()=>{const t=this.openLauncherIcon;t.innerHTML=""+this.props.icon,t.appendChild(this.unreadMessagesElement),this.unreadMessagesElement.innerText=""+(this.props.unreadMessagesCount||"")})),e()(this,"initializeCloseLauncherIcon",(()=>{const t=this.closeLauncherIcon;var e;t.id="close-launcher-icon",n(t,{transition:"transform 0.2s ease",position:"absolute",top:"0",left:"0",width:(e=this.props.width)+"px",height:e+"px",transform:"rotateZ(-45deg)",opacity:"0",display:"flex",alignItems:"center",justifyContent:"center"}),t.innerHTML=""+C})),e()(this,"updateCloseLauncherIcon",(()=>{const{closeLauncherIcon:t}=this,{customCloseIcon:e}=this.props;t.innerHTML=e||""+C})),e()(this,"initializeLauncherIcon",(()=>{const t=this.launcherIcon;return t.id="launcher-icon",n(t,(t=>{const{width:e,draggable:i,textColor:s,direction:o}=t,n={left:"3px",top:"3px",...i&&"right"===o?{}:{transform:"scaleX(-1)"}};return{boxSizing:"border-box",cursor:"pointer",fontSize:"25px",position:"absolute",textAlign:"center",transition:"all .2s ease-out",fill:s,color:s,verticalAlign:"sub",height:e+"px",minWidth:e+"px",maxWidth:e+"px",...i?n:{boxShadow:"0 2px 4px 0 rgba(0, 0, 0, 0.2)",left:0,top:0}}})(this.props)),t})),this.props=t,this.setupElements(),this.initializeLauncherIcon(),this.initializeOpenLauncherIcon(),this.initializeCloseLauncherIcon();this.closeLauncherIcon.innerHTML=""+C,this.update()}setProps(t){this.props={...this.props,...t},this.update()}setOpenMode(){this.closeLauncherIcon.style.opacity=this.props.isMobile?"0":"1",this.openLauncherIcon.style.transform="rotateZ(90deg) scale(0)",this.launcherIcon.setAttribute("aria-expanded","true"),setTimeout((()=>{this.closeLauncherIcon.style.transform="rotateZ(0deg)"}),1),setTimeout((()=>{this.openLauncherIcon.style.opacity="none",setTimeout((()=>{this.launcherIcon.style.display=this.props.isMobile?"none":"block"}),100)}),200)}setClosedMode(){this.openLauncherIcon.style.opacity="1",this.launcherIcon.style.display="block",this.launcherIcon.setAttribute("aria-expanded","false"),this.launcherIcon.focus(),setTimeout((()=>{this.openLauncherIcon.style.transform="rotateZ(0deg) scale(1)",this.closeLauncherIcon.style.transform="rotateZ(-45deg)"}),1),setTimeout((()=>{this.closeLauncherIcon.style.opacity="0"}),100)}setupElements(){this.openLauncherIcon=document.createElement("span"),this.closeLauncherIcon=document.createElement("span"),this.launcherIcon=document.createElement("span"),this.unreadMessagesElement=document.createElement("span"),this.dragHandle=document.createElement("span"),this.dragHandle.id="ans-launcher-drag-handle",this.dragHandle.innerHTML='<svg width="2" height="14" xmlns="http://www.w3.org/2000/svg"><g fill-rule="evenodd"><circle transform="rotate(90 1 1)" cx="1" cy="1" r="1"/><circle transform="rotate(90 1 5)" cx="1" cy="5" r="1"/><circle transform="rotate(90 1 9)" cx="1" cy="9" r="1"/><circle transform="rotate(90 1 13)" cx="1" cy="13" r="1"/></g></svg>',this.launcherIconContainer=document.createElement("div"),this.launcherIconContainer.id="launcher-icon-container",this.launcherIconContainer.appendChild(this.launcherIcon),this.launcherIconContainer.appendChild(this.dragHandle),this.launcherIcon.appendChild(this.openLauncherIcon),this.launcherIcon.appendChild(this.closeLauncherIcon),this.launcherIcon.tabIndex=0,this.launcherIcon.setAttribute("role","button"),this.launcherIcon.setAttribute("aria-label",this.props.ariaLabel),this.launcherIcon.setAttribute("aria-haspopup","dialog"),this.launcherIcon.setAttribute("aria-expanded","false"),this.launcherIcon.addEventListener("click",(t=>{this.dragging||this.props.onToggleWidget(t)})),this.launcherIcon.addEventListener("mousedown",(t=>{this.launcherIcon.style.outline="none"})),this.launcherIcon.addEventListener("keypress",(t=>{"Enter"!==t.key&&" "!==t.key&&"Spacebar"!==t.key||this.props.onToggleWidget(t)}));const{draggable:t}=this.props;t&&u(this.launcherIconContainer,(()=>{this.onDragStart()}),(t=>{this.props.onDrag(t),this.updateContainerStyle()}),(()=>{this.onDragEnd()}))}update(){this.initializeOpenLauncherIcon(),this.updateOpenLauncherIcon(),this.updateCloseLauncherIcon(),this.updateStyleAndPosition()}}const f={width:"100%",minWidth:"100%",height:"100%",border:"0",overflow:"hidden",background:"white"},_=t=>({height:t.dragAreaHeight+"px",position:"absolute",top:"0",left:"0",right:"0",cursor:"move",clipPath:"polygon("+t.dragAreaPolygonPoints+")",webkitClipPath:"polygon("+t.dragAreaPolygonPoints+")",backgroundColor:"#00000001"});class I{constructor(t){e()(this,"widgetFrame",void 0),e()(this,"frameContainer",void 0),e()(this,"dragBar",void 0),e()(this,"dragMask",void 0),e()(this,"props",void 0),e()(this,"openCloseTimer",void 0),e()(this,"dragging",!1),e()(this,"dragStartPoint",r(0,0)),e()(this,"startDrag",(()=>{this.dragging=!0,this.dragMask.style.display="block",this.props.onDragStart()})),e()(this,"onDragEnd",(()=>{this.dragging=!1,this.dragMask.style.display="none",this.props.onDragEnd()})),e()(this,"setProps",(t=>{this.props={...this.props,...t},this.updateFrameContainer(),this.refreshOffset(),n(this.dragBar,_(this.props)),this.props.isMobile&&this.props.isOpen&&(this.frameContainer.style.height="1px",setTimeout((()=>{this.frameContainer.style.height=window.innerHeight+"px"}),10))})),e()(this,"toggleAnimations",(t=>{this.props={...this.props,disableAnimations:!t}})),e()(this,"refreshOffset",(()=>{const{frameContainer:t,props:e}=this;e.isMobile?n(t,(t=>({position:"fixed",bottom:"0",top:"0",right:"0",left:"0",display:t.isOpen?"block":"none",overflow:"hidden"}))(e)):n(t,((t,e)=>{const{offset:i,viewportSize:s,marginBottom:o,isOpen:n}=t,a=-1*i.y>s.y/2,{x:r,y:h}=i,l={display:"none",width:"380px",height:"calc(100% - 166px)",maxWidth:"calc(100% - 30px)",maxHeight:"625px",minHeight:"150px",boxShadow:"0 2px 24px 0 rgba(0, 0, 0, 0.48)",borderRadius:"6px",overflow:"hidden",position:"fixed"},c={bottom:"calc(90px + "+o+")"},d={display:"block",animation:t.disableAnimations?"":"ans-widget-v3-frame-open 0.2s"},p={display:"block",maxHeight:"0px",minHeight:"0px",animation:t.disableAnimations?"":"ans-widget-v3-frame-close 0.2s"},u=void 0===n?{}:!0===n?d:p,g={bottom:a?"":""+o,top:a?"-80px":"",transform:"translate("+r+"px, "+(a?s.y+h:h)+"px)"};return{...l,...t.draggable?g:c,...u}})({...e},this.dragging))})),e()(this,"addParamsToFrameUrl",(t=>{const{frameUrl:e}=this.props,i=-1!==e.indexOf("?"),s=Object.keys(t).map((e=>e+"="+t[e])).join("&");this.props.frameUrl=this.props.frameUrl+(i?"&":"?")+s})),e()(this,"updateFrameUrl",(t=>{this.props.frameUrl=t})),e()(this,"initFrameSrc",(()=>{this.widgetFrame.src!==this.props.frameUrl&&(this.widgetFrame.src=this.props.frameUrl)})),e()(this,"show",(()=>{clearTimeout(this.openCloseTimer),this.setProps({isOpen:!0})})),e()(this,"hide",(()=>{this.setProps({isOpen:!1}),this.openCloseTimer=setTimeout((()=>{this.setProps({isOpen:void 0})}),1e3)})),this.props=t,this.widgetFrame=document.createElement("iframe");const i=this.widgetFrame;i.id=ht,i.allowFullscreen=!0,n(i,f),this.frameContainer=document.createElement("div");const s=this.frameContainer;s.id=rt,this.updateFrameContainer(),s.innerHTML||s.appendChild(i),this.dragBar=document.createElement("div"),this.dragMask=document.createElement("div"),n(this.dragMask,{position:"absolute",top:0,left:0,bottom:0,right:0,display:"none"}),t.draggable&&!g()&&(this.frameContainer.appendChild(this.dragMask),this.frameContainer.appendChild(this.dragBar),n(this.dragBar,_(this.props))),this.hideFrameContainer(),this.refreshOffset(),this.props.draggable&&!g()&&u(this.dragBar,(t=>{this.startDrag()}),(t=>{this.props.onDrag(t)}),(()=>{this.onDragEnd()}),0),this.props.isMobile&&window.addEventListener("resize",(()=>{this.frameContainer.style.height=window.innerHeight+"px"}))}hideFrameContainer(){this.frameContainer.style.display="none"}updateFrameContainer(){const{isMobile:t,marginLeft:e,marginRight:i}=this.props,s=this.frameContainer;s.style.right=t?"0":i,s.style.left=t?"0":e}}const S=(t,e)=>10+(e?20:0)+8+t,A=t=>{const{offset:e,currentWidth:i,viewportSize:s,launcherWidth:o,draggable:n,pixelsFromEdge:a}=t,r=a+i+15+S(o,n)+Math.abs(e.x),h=s.x-r<0,l=(Math.abs(e.x)+a+o/2)/s.x>.5;return h&&l},y=t=>{const{offset:e,direction:i,viewportSize:s,launcherWidth:o,currentHeight:n,pixelsFromBottom:a}=t,r=o+6,h=A(t),l="left"===i&&h||"right"===i&&!h?{left:"",right:"-20px",borderColor:"transparent transparent transparent #fff"}:{left:"-20px",right:"",borderColor:"transparent #fff transparent transparent"};return{content:"",display:"block",position:"absolute",bottom:(n<r?n:r)/2-10+(s.y-(a+n+20+Math.abs(e.y))<0?n-(o+6):0)+"px",right:l.right,left:l.left,borderColor:l.borderColor,width:"0",height:"0",borderStyle:"solid",borderWidth:"10px"}};class M{constructor(t){e()(this,"props",void 0),e()(this,"tooltipContainer",void 0),e()(this,"tooltipText",void 0),e()(this,"tooltipCloseIcon",void 0),e()(this,"tooltipPointer",void 0),e()(this,"localOffset",r(0,0)),e()(this,"openingTimeout",void 0),e()(this,"closedTooltip",void 0),e()(this,"dragHide",(()=>{this.openingTimeout&&clearTimeout(this.openingTimeout),this.hide()})),e()(this,"hide",(()=>{this.tooltipContainer.style.visibility="hidden",this.tooltipContainer.style.opacity="0"})),e()(this,"show",(()=>{this.closedTooltip||(this.tooltipContainer.style.visibility="visible",this.tooltipContainer.style.opacity="1")})),e()(this,"closeTooltip",(()=>{this.closedTooltip=!0,this.hide(),setTimeout((()=>{this.props.onClose()}),500)})),e()(this,"updateContainerStyle",(()=>{const{props:t}=this,e=h(t.offset,this.localOffset),i=this.tooltipContainer.offsetWidth,s=this.tooltipContainer.offsetHeight;n(this.tooltipContainer,(t=>{const{offset:e,direction:i,currentWidth:s,currentHeight:o,viewportSize:n,launcherWidth:a,marginLeft:r,marginRight:h,marginBottom:l,draggable:c,pixelsFromEdge:d,pixelsFromBottom:p}=t,u=S(a,c),g=n.y-(p+o+20+Math.abs(e.y))<0,T=e=>A(t)?"calc("+-1*(s+8-d+20)+"px)":"calc("+e+" + "+u+"px)",C="left"===i?T(r):r,m="right"===i?T(h):h,E=g?"- "+(o-(a+6))+"px":"",f=o>a+6?"calc("+l+" "+E+")":"calc(\n\t\t\t"+l+" + "+Math.floor((a+6-(o||45))/2)+"px "+E+"\n\t\t)",_=n.x-15-u-d,I=Math.min(300,_)+"px";return{direction:t.isRtl?"rtl":"ltr",cursor:"pointer",bottom:f,boxSizing:"border-box",borderRadius:"5px",position:"fixed",fill:"currentColor",padding:t.isRtl?"9px 14px 9px 27px":"9px 27px 9px 14px",minHeight:"45px",minWidth:"20px",maxWidth:I,left:C,right:m,zIndex:"9",display:"flex",alignItems:"center",background:"#ffffff",boxShadow:"2px 2px 10px 2px rgba(0, 0, 0, 0.15)",transform:"translate("+e.x+"px, "+e.y+"px)",transition:"visibility 0s, opacity 0.15s ease-in"}})({...t,offset:e,currentWidth:i,currentHeight:s}))})),e()(this,"updatePointerStyle",(()=>{const{props:t}=this,e=h(t.offset,this.localOffset),i=this.tooltipContainer.offsetWidth,s=this.tooltipContainer.offsetHeight;n(this.tooltipPointer,y({...t,offset:e,currentWidth:i,currentHeight:s}))})),e()(this,"updateTooltipConfig",((t,e)=>{this.tooltipText.innerHTML=T(t),this.hide(),clearTimeout(this.openingTimeout),this.openingTimeout=setTimeout((()=>{this.update(),this.show()}),1e3*e)})),this.props=t,this.closedTooltip=!1,this.setupElements();this.tooltipCloseIcon.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="11" height="11"><path fill="#ABABAB" d="M10.016 0L5.5 4.516.984 0 0 .983 4.516 5.5 0 10.016.984 11 5.5 6.483 10.016 11l.984-.984L6.483 5.5 11 .983z"/></svg>',this.hide(),this.openingTimeout=setTimeout((()=>{this.show()}),1e3*t.tooltipDelay),this.update()}setProps(t){this.props={...this.props,...t},this.update()}setupElements(){var t;this.tooltipContainer=document.createElement("div"),this.tooltipContainer.id="tooltip-container",this.tooltipContainer.addEventListener("click",(t=>{this.props.onToggleWidget(t)})),this.tooltipText=document.createElement("span"),this.tooltipText.id="ans-launcher-tooltip",this.tooltipText.innerHTML=T(this.props.content),n(this.tooltipText,{color:"#28516c",fontSize:"14px",userSelect:"none"}),this.tooltipContainer.appendChild(this.tooltipText),this.tooltipCloseIcon=document.createElement("div"),this.tooltipCloseIcon.id="ans-launcher-tooltip-close",this.tooltipCloseIcon.tabIndex=0,n(this.tooltipCloseIcon,{cursor:"pointer",position:"absolute",top:"12px",right:(t=this.props.isRtl)?"unset":"12px",left:t?"12px":"unset"}),this.tooltipCloseIcon.addEventListener("click",(t=>{t.stopPropagation(),this.closeTooltip()})),this.tooltipCloseIcon.addEventListener("mousedown",(t=>{this.tooltipCloseIcon.style.outline="none"})),this.tooltipCloseIcon.addEventListener("keypress",(t=>{"Enter"!==t.key&&" "!==t.key&&"Spacebar"!==t.key||this.closeTooltip()})),this.tooltipContainer.appendChild(this.tooltipCloseIcon),this.tooltipPointer=document.createElement("div"),this.tooltipPointer.id="ans-launcher-tooltip-pointer",n(this.tooltipPointer,y(this.props)),this.tooltipContainer.appendChild(this.tooltipPointer)}update(){this.updateContainerStyle(),this.updatePointerStyle()}}const w={position:"fixed",top:"0",left:"0",display:"none",width:"100%",height:"100%",transition:"opacity 0.2s ease",backgroundColor:"rgba(0,0,0,0.5)",zIndex:"11",alignItems:"center",justifyContent:"center"},L={border:"0",maxWidth:"80%",maxHeight:"80%"};class b{constructor(){e()(this,"element",void 0),e()(this,"imageElement",void 0),e()(this,"show",(t=>{this.imageElement.src=t,this.element.style.display="flex",this.element.style.opacity="0",setTimeout((()=>{this.element.style.opacity="1"}),1)})),this.element=document.createElement("div");const t=this.element;t.id="widget-media-viewer",n(t,w),this.imageElement=document.createElement("img"),n(this.imageElement,L),t.appendChild(this.imageElement),t.addEventListener("click",(e=>{e.stopPropagation(),t.style.opacity="0",setTimeout((()=>{t.style.display="none"}),200)}))}}const O={display:"none"};class v{constructor(t){e()(this,"element",void 0),this.element=document.createElement("iframe");const i=this.element;i.id="widget-view-preload",i.src=t.preloadUrl,n(i,O)}}const x="@keyframes ans-widget-v3-frame-open {\n\t0% {max-height: 310px;opacity: 0;}\n\t50% {opacity: 0.4;}\n\t100% {max-height: 625px;opacity: 1;}\n}\n@keyframes ans-widget-v3-frame-close {\n\t0% {max-height: 625px;opacity: 1;}\n\t50% {opacity: 0.6;}\n\t100% {max-height: 310px;opacity: 0;}\n}\n@media print {\n\t#"+o+" {\n\t\tdisplay: none !important;\n\t}\n}";var D=function(t){return t.WIDGET_STATE="__aw_widget_state_",t.WIDGET_UNREAD_MESSAGES_COUNT="__aw_widget_unread_messages_count",t.WIDGET_HIDE_TOOLTIP="__aw_widget_hide_tooltip",t}(D||{});function R(t){return function(){return JSON.parse(sessionStorage.getItem(t))}}function P(t){return function(e){sessionStorage.setItem(t,JSON.stringify(e))}}function H(t){return function(){sessionStorage.removeItem(t)}}const F={session:{get:{widgetState:t=>R(""+D.WIDGET_STATE+t),unreadMessagesCount:R(D.WIDGET_UNREAD_MESSAGES_COUNT),hideTooltip:R(D.WIDGET_HIDE_TOOLTIP)},set:{widgetState:t=>P(""+D.WIDGET_STATE+t),unreadMessagesCount:P(D.WIDGET_UNREAD_MESSAGES_COUNT),hideTooltip:P(D.WIDGET_HIDE_TOOLTIP)},remove:{widgetState:t=>H(""+D.WIDGET_STATE+t),unreadMessagesCount:H(D.WIDGET_UNREAD_MESSAGES_COUNT),hideTooltip:H(D.WIDGET_HIDE_TOOLTIP)}},local:{get:{hideTooltip:(U=D.WIDGET_HIDE_TOOLTIP,function(){return JSON.parse(localStorage.getItem(U))})}}};var U,N=function(t){return t[t.SMALL=10]="SMALL",t[t.LARGE=20]="LARGE",t}(N||{});const V=l(15,15,15,15),W=l(15,15,15,15),k={position:"fixed",bottom:"0",width:"0",height:"0",zIndex:"999999999"},B=window;class G{constructor(t,i){e()(this,"baseUrl",""),e()(this,"locale",""),e()(this,"radius",15),e()(this,"color",""),e()(this,"textColor",""),e()(this,"right","20px"),e()(this,"left","auto"),e()(this,"bottom","20px"),e()(this,"pixelsFromEdge","20"),e()(this,"pixelsFromBottom","20"),e()(this,"icon",""),e()(this,"isLeft",!1),e()(this,"isRtl",void 0),e()(this,"articleId",""),e()(this,"categoryId",""),e()(this,"isMobile",!1),e()(this,"isRestricted",!1),e()(this,"tooltipContent",""),e()(this,"launcherWidth",60),e()(this,"isChatEnabled",void 0),e()(this,"lastBodyUserSelectValue",""),e()(this,"pimpleColor","#389eec"),e()(this,"alwaysShowPimple",!1),e()(this,"authenticatorFn",null),e()(this,"frameInitialized",!1),e()(this,"launcherDragConstraints",V),e()(this,"frameDragConstraints",W),e()(this,"onToggleWidget",void 0),e()(this,"draggable",void 0),e()(this,"showTooltip",void 0),e()(this,"tooltipDelay",void 0),e()(this,"launcherContainerElement",void 0),e()(this,"dragMask",void 0),e()(this,"launcherView",void 0),e()(this,"frameView",void 0),e()(this,"globalStyles",void 0),e()(this,"tooltipView",void 0),e()(this,"mediaViewer",void 0),e()(this,"viewPreload",void 0),e()(this,"resizeHandlerTimer",void 0),e()(this,"offset",r(0,0)),e()(this,"draggingOffset",r(0,0)),e()(this,"launcherBoundaries",c(0,0,0,0)),e()(this,"frameBoundaries",c(0,0,0,0)),e()(this,"unreadMessagesCount",F.session.get.unreadMessagesCount()||0),e()(this,"isVisible",!1),e()(this,"lastViewport",r(0,0)),e()(this,"dragAreaHeight",25),e()(this,"dragAreaPolygonPoints","0px 0px, 380px 0px, 380px 25px, 0px 25px"),e()(this,"updateDragArea",((t,e)=>{this.dragAreaPolygonPoints=t,this.dragAreaHeight=e,this.frameView.setProps({dragAreaHeight:e,dragAreaPolygonPoints:t})})),e()(this,"onFrameDragStart",(()=>{this.showDragMask(),this.frameBoundaries=d(this.frameView.frameContainer,this.frameDragConstraints,this.lastViewport,this.offset)})),e()(this,"showDragMask",(()=>{this.dragMask.style.display="block";const t=document.body.style;this.lastBodyUserSelectValue=t.getPropertyValue("user-select"),document.body.style.setProperty("user-select","none","important")})),e()(this,"hideDragMask",(()=>{this.dragMask.style.display="none",document.body.style.setProperty("user-select",this.lastBodyUserSelectValue)})),e()(this,"onLauncherDrag",(t=>{this.draggingOffset=t;const e=h(this.draggingOffset,this.offset),i=p(e,this.launcherBoundaries);this.launcherView.setProps({offset:i})})),e()(this,"onFrameDrag",(t=>{this.draggingOffset=t;const e=h(this.draggingOffset,this.offset),i=p(e,this.frameBoundaries);this.frameView.setProps({offset:i})})),e()(this,"enforceLauncherConstraints",(()=>{this.launcherBoundaries=d(this.launcherView.launcherIconContainer,this.launcherDragConstraints,this.lastViewport,this.offset);const t=p(this.offset,this.launcherBoundaries);this.offset=t,this.launcherView.setProps({offset:this.offset}),this.tooltipView.setProps({offset:this.offset}),this.frameView.setProps({offset:this.offset})})),e()(this,"enforceFrameConstraints",(()=>{this.frameBoundaries=d(this.frameView.frameContainer,this.frameDragConstraints,this.lastViewport,this.offset);const t=p(this.offset,this.frameBoundaries);this.offset=t,this.frameView.setProps({offset:this.offset}),this.launcherView.setProps({offset:this.offset})})),e()(this,"onLauncherDragEnd",(()=>{this.offset=p(h(this.draggingOffset,this.offset),this.launcherBoundaries),this.onDragEnd()})),e()(this,"onFrameDragEnd",(()=>{this.offset=p(h(this.draggingOffset,this.offset),this.frameBoundaries),this.onDragEnd()})),e()(this,"onDragEnd",(()=>{this.hideDragMask(),this.launcherView.setProps({offset:this.offset}),this.tooltipView.setProps({offset:this.offset}),this.showTooltip&&this.tooltipView.show(),this.frameView.setProps({offset:this.offset}),ot.forEach((t=>t(this.offset)))})),e()(this,"onLauncherDragStart",(()=>{this.launcherBoundaries=d(this.launcherView.launcherIconContainer,this.launcherDragConstraints,this.lastViewport,this.offset),this.showDragMask(),this.showTooltip&&this.tooltipView.dragHide()})),e()(this,"incrementUnreadMessageCount",(()=>{this.unreadMessagesCount=this.unreadMessagesCount+1,this.launcherView.setProps({unreadMessagesCount:this.unreadMessagesCount}),F.session.set.unreadMessagesCount(this.unreadMessagesCount)})),e()(this,"updateUnreadMessagesSettings",((t,e)=>{this.pimpleColor=t,this.alwaysShowPimple=e,this.launcherView.setProps({pimpleColor:this.pimpleColor,alwaysShowPimple:this.alwaysShowPimple})})),e()(this,"onCloseTooltip",(()=>{this.removeTooltip(),st.forEach((t=>t()))})),e()(this,"removeTooltip",(()=>{this.showTooltip=!1,F.session.set.hideTooltip(!0),this.launcherContainerElement.removeChild(this.tooltipView.tooltipContainer)})),e()(this,"onMinimizeFrame",(()=>{this.isVisible=!1,this.hideFrameAndTriggerSdk("click"),this.launcherView.show(),this.showTooltip&&this.tooltipView.show(),setTimeout((()=>{this.enforceLauncherConstraints()}),200),this.onToggleWidget(!1,"click")})),e()(this,"getToken",(()=>nt.token&&nt.fetchTime>Date.now()-$?Promise.resolve(nt.token):this.authenticatorFn().then((t=>(nt.token=t,nt.fetchTime=Date.now(),Promise.resolve(t)))))),e()(this,"addAuthFn",(t=>{this.authenticatorFn=t,this.isChatEnabled&&this.getToken().then((t=>{const e={preloadUrl:this.baseUrl+"/preload/"+this.locale+"?token="+t};this.viewPreload=new v(e),this.launcherContainerElement.appendChild(this.viewPreload.element)}))})),e()(this,"setHasActiveChat",(t=>{this.frameView.addParamsToFrameUrl({activeChat:t?"true":"false"})})),e()(this,"setArticleId",(t=>{this.frameView.addParamsToFrameUrl({articleId:t})})),e()(this,"setGoToChatList",(()=>{this.frameView.addParamsToFrameUrl({goToChatList:"true"})})),e()(this,"maybeInitFrameSrc",(()=>{this.frameInitialized||(this.frameInitialized=!0,this.isRestricted?this.authenticatorFn?this.getToken().then((t=>{this.frameView.addParamsToFrameUrl({token:t}),this.frameView.initFrameSrc()})):console.error("Widget is restricted but no Authentication function was added!"):this.frameView.initFrameSrc())})),e()(this,"setFrameUrl",(t=>{this.baseUrl=t,this.updateFrameUrl(),this.frameInitialized&&(this.isRestricted?this.authenticatorFn?this.getToken().then((t=>{this.frameView.addParamsToFrameUrl({token:t}),this.frameView.initFrameSrc()})):console.error("Widget is restricted but no Authentication function was added!"):this.frameView.initFrameSrc())})),e()(this,"hideFrameAndTriggerSdk",(t=>{this.frameView.hide(),it.forEach((e=>e(t)))})),e()(this,"onLauncherClick",(t=>{this.maybeInitFrameSrc(),this.showTooltip&&this.removeTooltip();const e=this.isVisible,i=this.launcherView.launcherIconContainer.contains(t.target),s=t.isTrusted?i?"click":"tooltip-click":"sdk";e?(this.isVisible=!1,this.draggable||this.launcherView.setClosedMode(),this.hideFrameAndTriggerSdk(s),this.onToggleWidget(!1,s)):(this.isVisible=!0,this.draggable||this.launcherView.setOpenMode(),this.tooltipView.hide(),this.frameView.show(),this.launcherView.setProps({unreadMessagesCount:0}),this.unreadMessagesCount=0,F.session.remove.unreadMessagesCount(),this.draggable&&setTimeout((()=>{this.enforceFrameConstraints()}),200),et.forEach((t=>t(s))),this.onToggleWidget(!0,s)),(this.draggable||this.isMobile)&&(this.isVisible?this.launcherView.hide():(this.launcherView.show(),this.launcherView.launcherIcon.focus()))})),e()(this,"updateMargins",((t,e)=>{this.isLeft?this.left=t+"px":this.right=t+"px",this.bottom=e+"px";const i={marginBottom:this.bottom,marginLeft:this.left,marginRight:this.right};this.launcherView.setProps(i),this.frameView.setProps(i),this.tooltipView.setProps({...i,pixelsFromBottom:e,pixelsFromEdge:t})})),e()(this,"changeDirection",(()=>{this.isLeft=!this.isLeft,[this.left,this.right]=[this.right,this.left];const t={marginLeft:this.left,marginRight:this.right};this.launcherView.setProps({...t,direction:this.isLeft?"left":"right"}),this.frameView.setProps(t),this.tooltipView.setProps({...t,direction:this.isLeft?"left":"right"})})),e()(this,"updateTooltipSettings",((t,e)=>{this.tooltipView.updateTooltipConfig(t,e),this.showTooltip||(this.launcherContainerElement.appendChild(this.tooltipView.tooltipContainer),this.showTooltip=!0)})),this.applySettings(t),this.onToggleWidget=i;const s=()=>{const{clientWidth:t,clientHeight:e}=document.documentElement;return r(t,e)};this.lastViewport=s();const o={isMobile:this.isMobile,isRestricted:this.isRestricted,frameUrl:this.baseUrl+"/view/"+this.locale,marginLeft:this.left,marginRight:this.right,marginBottom:this.bottom,offset:this.offset,draggable:this.draggable,viewportSize:this.lastViewport,onDragEnd:this.onFrameDragEnd,onDragStart:this.onFrameDragStart,onDrag:this.onFrameDrag,dragAreaHeight:this.dragAreaHeight,dragAreaPolygonPoints:this.dragAreaPolygonPoints};this.frameView=new I(o);const l={width:this.launcherWidth,icon:this.icon,draggable:this.draggable,isMobile:this.isMobile,backgroundColor:t.color,convexity:t.convex,textColor:a(t.color),direction:this.isLeft?"left":"right",viewportSize:this.lastViewport,dragConstraints:this.launcherDragConstraints,offset:this.offset,onToggleWidget:this.onLauncherClick,onDragEnd:this.onLauncherDragEnd,onDragStart:this.onLauncherDragStart,onDrag:this.onLauncherDrag,marginLeft:this.left,marginRight:this.right,marginBottom:this.bottom,pimpleColor:this.pimpleColor,alwaysShowPimple:this.alwaysShowPimple,unreadMessagesCount:this.unreadMessagesCount,ariaLabel:t.launcherAriaLabel};this.launcherView=new E(l),this.updateFrameUrl(),t.newWidgetOverride&&this.frameView.addParamsToFrameUrl({newWidget:"true"}),t.consentPolicy&&this.frameView.addParamsToFrameUrl({"consent-policy":t.consentPolicy});const u={isRtl:this.isRtl,draggable:this.draggable,isMobile:this.isMobile,launcherWidth:this.launcherWidth,direction:this.isLeft?"left":"right",viewportSize:this.lastViewport,offset:this.offset,content:t.tooltipContent||"",tooltipDelay:t.tooltipDelay,onToggleWidget:this.onLauncherClick,onClose:this.onCloseTooltip,marginLeft:this.left,marginRight:this.right,marginBottom:this.bottom,pixelsFromEdge:parseInt(this.pixelsFromEdge,10),pixelsFromBottom:parseInt(this.pixelsFromBottom,10)};if(this.tooltipView=new M(u),this.mediaViewer=new b,!this.isRestricted&&this.isChatEnabled){const t={preloadUrl:this.baseUrl+"/preload/"+this.locale};this.viewPreload=new v(t)}this.initializeLauncherElements(),this.applyStyleToLauncherContainer(),this.tooltipView.update(),this.draggable&&window.addEventListener("resize",(()=>{clearTimeout(this.resizeHandlerTimer),this.lastViewport=s(),this.resizeHandlerTimer=setTimeout((()=>{this.frameView.setProps({viewportSize:this.lastViewport}),this.tooltipView.setProps({viewportSize:this.lastViewport}),this.isVisible?this.enforceFrameConstraints():this.enforceLauncherConstraints()}),250)}),!1),this.dragMask=document.createElement("div"),n(this.dragMask,{position:"fixed",right:0,left:0,top:0,bottom:0,display:"none",width:"100vw",height:"100vh",userSelect:"none"}),this.launcherContainerElement.appendChild(this.dragMask)}applyStyleToLauncherContainer(){const t=this.launcherContainerElement;return n(t,k),this.isLeft?t.style.left="0":t.style.right="0",t}applySettings(t){this.isMobile=(B.outerWidth||B.screen.width)<=580,this.launcherWidth=t.width!==N.LARGE||this.isMobile?46:60,this.draggable=t.draggable&&!this.isMobile,this.showTooltip=t.showTooltip&&!F.session.get.hideTooltip()&&!F.local.get.hideTooltip(),this.tooltipContent=t.tooltipContent,this.tooltipDelay=t.tooltipDelay,this.color=t.color,this.textColor=a(t.color),this.radius=Math.floor(this.launcherWidth/2*t.convex),this.isLeft="left"===t.position,this.icon=t.icon?decodeURI(t.icon):"",this.baseUrl=t.baseUrl,this.locale=t.locale,this.articleId=t.articleId,this.isRtl=t.isRtl,this.categoryId=t.categoryId,this.isRestricted=t.restrictedWidget,this.isChatEnabled=t.isChatEnabled,this.launcherDragConstraints=t.launcherConstraints||V,this.frameDragConstraints=t.frameConstraints||W}updateFrameUrl(){const{baseUrl:t,locale:e,articleId:i,categoryId:s,isMobile:o}=this,n=t+"/view/"+e,a=i?"/article/"+i:s?"/category/"+s:"",r=o?"?mobile=true":"";this.frameView.updateFrameUrl(""+n+a+r)}initializeLauncherElements(){this.globalStyles=document.createElement("style"),this.globalStyles.innerHTML=x,this.launcherContainerElement=document.createElement("div"),this.launcherContainerElement.id=o,this.launcherContainerElement.appendChild(this.mediaViewer.element),this.launcherContainerElement.appendChild(this.launcherView.launcherIconContainer),this.showTooltip&&this.tooltipContent&&this.launcherContainerElement.appendChild(this.tooltipView.tooltipContainer),this.launcherContainerElement.appendChild(this.frameView.frameContainer),!this.isRestricted&&this.isChatEnabled&&this.launcherContainerElement.appendChild(this.viewPreload.element),document.body.appendChild(this.launcherContainerElement),document.head.appendChild(this.globalStyles)}}var K,z,j,Y,X,q,J,Z;!function(t){t.LIST="LIST",t.ROOM="ROOM"}(K||(K={})),function(t){t[t.WIDGET_HOME=0]="WIDGET_HOME",t[t.CATEGORY=1]="CATEGORY",t[t.ARTICLE=2]="ARTICLE"}(z||(z={})),function(t){t[t.ARTICLE=0]="ARTICLE",t[t.URI=1]="URI",t[t.ID=2]="ID"}(j||(j={})),function(t){t.EMAIL="EMAIL",t.CALLBACK="CALLBACK",t.CHAT="CHAT"}(Y||(Y={})),function(t){t.CALLBACK_SUCCESS="CALLBACK_SUCCESS",t.CALLBACK_THROTTLED="CALLBACK_THROTTLED",t.CALLBACK_IN_LINE="CALLBACK_IN_LINE",t.CALLBACK_FAIL="CALLBACK_FAIL",t.EMAIL_SUCCESS="EMAIL_SUCCESS",t.EMAIL_FAIL="EMAIL_FAIL",t.CHATBOT_SUCCESS="CHATBOT_SUCCESS"}(X||(X={})),function(t){t[t.IN_LINE=-110002]="IN_LINE"}(q||(q={})),function(t){t[t.OUT_OF_BUSINESS_HOURS=-19e4]="OUT_OF_BUSINESS_HOURS",t[t.MULTIPLE_CHATS_DISABLED=-180001]="MULTIPLE_CHATS_DISABLED"}(J||(J={})),function(t){t.SEARCH_ARTICLE="search-article",t.SUBMIT_TICKET="submit-ticket",t.SUBMIT_CALLBACK="submit-callback",t.START_CHAT="start-chat",t.SEND_CHAT_MESSAGE="send-chat-message",t.SUBMIT_CSAT="submit-csat"}(Z||(Z={}));var Q=i(23523);const $=29e4;class tt extends Q.AnswersWidget{constructor(t){super(),e()(this,"settings",void 0),e()(this,"launcher",void 0),e()(this,"wasOpen",!1),e()(this,"focusInterval",void 0),e()(this,"authenticator",void 0),e()(this,"activeChatCount",void 0),e()(this,"hasActiveChatRequests",[]),e()(this,"injectToElementById",(t=>{this.moveFrame(rt,t)})),e()(this,"ejectFromElementById",(t=>{this.moveFrame(t,rt)})),e()(this,"listenToStateChange",(()=>{this.addEventListener(this.onStateChange)})),e()(this,"restoreLastState",(()=>{const t=F.session.get.widgetState(this.settings.baseUrl)();t&&(this.restorePage(t.pageData),this.restoreModals(t.modals,t.chatView,t.ticketId),this.restoreOpen(t.open))})),e()(this,"open",(t=>{this.toggle(!0,t)})),e()(this,"close",(()=>{this.toggle(!1)})),e()(this,"hide",(()=>{document.getElementById(o).style.display="none"})),e()(this,"show",(()=>{document.getElementById(o).style.display="block"})),e()(this,"destroy",(()=>{const t=window,e=document.getElementsByTagName("body")[0],i=document.getElementById(o);clearInterval(this.focusInterval),i&&(e.removeChild(i),delete t.AnswersWidget)})),e()(this,"onWidgetOpened",(t=>{et.push(t)})),e()(this,"onWidgetClosed",(t=>{it.push(t)})),e()(this,"onTooltipClosed",(t=>{st.push(t)})),e()(this,"onDragEnd",(t=>{ot.push(t)})),e()(this,"addAuthenticationFn",(t=>{this.authenticator?console.warn("Authentication function already added."):(this.settings.restrictedWidget||console.warn("Adding authentication to widget that is not set as restricted may result in unexpected behavior."),this.authenticator=t,this.sendScopedPostMessage({type:Q.WidgetMessageType.AUTHENTICATOR_ADDED,data:{}}),this.sdkMemory.authenticatorAdded=!0,this.launcher.addAuthFn(t))})),e()(this,"changeLauncherAlignment",(t=>{t&&"left"===t===this.launcher.isLeft||this.launcher.changeDirection()})),e()(this,"hasActiveChatConversation",(()=>void 0!==this.activeChatCount?Promise.resolve(!!this.activeChatCount):new Promise((t=>{this.hasActiveChatRequests.push(t)})))),e()(this,"setLauncherIconSvg",(t=>{this.launcher.launcherView.setProps({icon:t})})),e()(this,"setLauncherCloseIconSvg",(t=>{this.launcher.launcherView.setProps({customCloseIcon:t})})),e()(this,"setOffset",((t,e)=>{this.launcher.updateMargins(t,e)})),e()(this,"getOffset",(()=>({x:this.launcher.offset.x,y:this.launcher.offset.y}))),e()(this,"getPosition",(()=>({x:document.body.getBoundingClientRect().width-this.launcher.launcherView.launcherIconContainer.getBoundingClientRect().right,y:document.body.getBoundingClientRect().height-this.launcher.launcherView.launcherIconContainer.getBoundingClientRect().bottom}))),e()(this,"setTooltipConfig",((t,e)=>{this.launcher.updateTooltipSettings(t,e)})),e()(this,"setUnreadMessageConfig",((t,e)=>{this.launcher.updateUnreadMessagesSettings(t,e)})),e()(this,"onLoaded",(t=>{t()})),e()(this,"setFrameBaseUrl",(t=>{this.launcher.setFrameUrl(t)})),e()(this,"overrideChatGreetingMessage",(()=>{console.warn("Deprecated: Use 'setOverrideTexts' instead of overrideChatGreetingMessage.")})),e()(this,"clearChats",(()=>{console.warn("Deprecated: Remove calls to clearChats.")})),e()(this,"addLabelsOnSubmit",(t=>{console.warn("Deprecated: Use 'setLabels' instead of addLabelsOnSubmit."),this.setLabels(t)})),e()(this,"onLoad",(t=>{console.warn("Deprecated: onLoad is called before the view is fully loaded and interactive"),this.frame.onload=()=>{t&&t()}})),e()(this,"setCustomHomePage",(()=>{console.warn("Deprecated: custom home page HTML can be added in the widget settings")})),e()(this,"addCustomHeroHtml",(()=>{console.warn("Deprecated: use setCustomKbHeader or setCustomHomePageHeader")})),e()(this,"toggle",((t,e)=>{t!==("none"!==document.getElementById(rt).style.display)&&(e?(this.launcher.frameView.toggleAnimations(!1),this.launcher.onLauncherClick(new MouseEvent("click")),this.launcher.frameView.toggleAnimations(!0)):this.launcher.onLauncherClick(new MouseEvent("click")))})),e()(this,"listenToLocationChange",(()=>{window.addEventListener("hashchange",(()=>{this.reportLocationChange(window.location.href,document.title)}),!1);const t=history.pushState;history.pushState=(e,i,s)=>{t.apply(history,[e,i,s]),setTimeout((()=>{this.reportLocationChange(window.location.href,document.title)}),500)}})),e()(this,"handleWidgetToggle",((t,e)=>{this.sdkMemory.isOpen=t,this.sendScopedPostMessage({type:Q.WidgetMessageType.WIDGET_OPEN,data:{isOpen:t,method:e}})})),e()(this,"listenToFocusChange",(()=>{this.sdkMemory.focusState=document.hasFocus(),this.focusInterval=setInterval((()=>{const t=document.hasFocus();this.sdkMemory.focusState!==t&&(this.sdkMemory.focusState=t,this.handleWindowFocusChange(t))}),500)})),e()(this,"handleWindowFocusChange",(t=>{this.sendScopedPostMessage({type:Q.WidgetMessageType.WINDOW_FOCUS,data:{hasFocus:t}})})),e()(this,"reportLocationChange",((t,e)=>{this.sdkMemory.location={url:t,title:e},this.sendScopedPostMessage({type:Q.WidgetMessageType.LOCATION_CHANGED,data:{url:t,title:e}})})),e()(this,"getToken",(()=>nt.token&&nt.fetchTime>Date.now()-$?Promise.resolve(nt):this.authenticator().then((t=>(nt.token=t,nt.fetchTime=Date.now(),Promise.resolve(nt)))))),e()(this,"onStateChange",(t=>{var e;const i=t=>{const e={...F.session.get.widgetState(this.settings.baseUrl)(),...t};F.session.set.widgetState(this.settings.baseUrl)(e)};switch(t.type){case Q.EventType.OPEN:i({open:!0});break;case Q.EventType.CLOSE:i({open:!1});break;case Q.EventType.NAVIGATION:const s=t.data.nextView.page,o=t.data.nextView.data.id,n=null==(e=t.data.nextView.data.article)?void 0:e.id;void 0!==s&&i({pageData:{page:s,additionalData:{categoryId:o,articleId:n}}});break;case Q.EventType.OPEN_MODALS_CHANGE:const a=t.data.openModals;a&&i({modals:a});break;case Q.EventType.CHAT_VIEW_CHANGED:const r=t.data.chatView;r&&i({chatView:r});break;case Q.EventType.CHAT_VIEW:case Q.EventType.CHAT_STARTED_SUCCESS:const{ticketId:h}=t.data;h&&i({ticketId:h})}})),this.settings=t,this.launcher=new G(t,this.handleWidgetToggle),super.setFrame(document.getElementById(ht)),window.addEventListener("message",(async t=>{this.isMessageFromFrame(t)&&this.isAnswersMessage(t)?await this.handleFrameMessage(t):this.isMessageFromPreload(t)&&this.handlePreloadMessage(t)}),!1),this.listenToLocationChange(),this.listenToFocusChange()}goToArticle(t){super.goToArticle(t),this.launcher.setArticleId(t)}goToChatList(){super.goToChatList(),this.launcher.setGoToChatList()}handlePreloadMessage(t){const e=t.data.__ansWidget;if(e&&e.type===Q.WidgetMessageType.ACTIVE_CHAT_COUNT)this.activeChatCount=e.data.count,this.hasActiveChatRequests.forEach((t=>t(!!this.activeChatCount))),this.hasActiveChatRequests=[],this.launcher.setHasActiveChat(!!this.activeChatCount),this.activeChatCount&&this.launcher.maybeInitFrameSrc()}async handleFrameMessage(t){if(super.handleFrameMessage(t),t.data.closeWidget)this.close(),this.frame.src=this.frame.src;else if(t.data.__ansWidget){const e=t.data.__ansWidget;switch(e.type){case Q.WidgetMessageType.CHAT_MESSAGE_RECEIVED:this.launcher.isVisible||this.launcher.incrementUnreadMessageCount();break;case Q.WidgetMessageType.VIEW_LOADED:this.onViewLoaded();break;case Q.WidgetMessageType.UPDATE_DRAG_AREA:this.launcher.updateDragArea(e.data.dragAreaPolygonPoints,e.data.dragAreaHeight);break;case Q.WidgetMessageType.AUTHENTICATION_REQUEST:this.authenticator?this.getToken().then((t=>{this.sendScopedPostMessage({type:Q.WidgetMessageType.AUTHENTICATION_RESPONSE,data:{token:t.token,fetchTime:t.fetchTime}})})):this.sendScopedPostMessage({type:Q.WidgetMessageType.AUTHENTICATION_RESPONSE,data:{token:""}});break;case Q.WidgetMessageType.COLLAPSE_WIDGET:this.toggle(!1);break;case Q.WidgetMessageType.DISPLAY_IMAGE:this.launcher.mediaViewer.show(e.data.src)}}}restoreOpen(t){t&&this.open()}restoreModals(t,e,i){null==t||t.forEach((t=>{switch(t){case Y.CALLBACK:this.goToCallback();break;case Y.CHAT:e===K.LIST?this.goToChatList():this.goToChat(i);break;case Y.EMAIL:this.goToContact()}}))}restorePage(t){var e,i;switch(null==t?void 0:t.page){case z.ARTICLE:null!=(e=t.additionalData)&&e.articleId&&this.goToArticle(t.additionalData.articleId);break;case z.CATEGORY:null!=(i=t.additionalData)&&i.categoryId&&this.goToCategory(t.additionalData.categoryId)}}isMessageFromPreload(t){return this.launcher&&this.launcher.viewPreload&&this.launcher.viewPreload.element&&t.source===this.launcher.viewPreload.element.contentWindow}moveFrame(t,e){const i=document.getElementById(e),s=document.getElementById(t);if(s&&i)for(;s.childNodes.length>0;)i.appendChild(s.childNodes[0])}onViewLoaded(){const{authenticatorAdded:t,location:e,focusState:i,isOpen:s}=this.sdkMemory;this.sendScopedPostMessage({type:Q.WidgetMessageType.LOCATION_CHANGED,data:e}),this.sendScopedPostMessage({type:Q.WidgetMessageType.WINDOW_FOCUS,data:{hasFocus:i}}),this.sendScopedPostMessage({type:Q.WidgetMessageType.WIDGET_OPEN,data:{isOpen:s}}),super.onViewLoaded(),t&&this.sendScopedPostMessage({type:Q.WidgetMessageType.AUTHENTICATOR_ADDED,data:{}})}}const et=[],it=[],st=[],ot=[],nt={},at=window,rt="frame-container",ht="answers-widget-frame";let lt;try{lt=JSON.parse("{\"baseUrl\":\"https://wix.wixanswers.com/apps/widget/v1/wix/18e3c885-6d02-428a-9619-3d342f6cda66\",\"locale\":\"en\",\"isRtl\":false,\"color\":\"#086CBB\",\"convex\":2,\"icon\":\"%0A%3Csvg%20width=%2216%22%20height=%2226%22%20fill=%22currentColor%22%20xmlns=%22http://www.w3.org/2000/svg%22%3E%3Cpath%20fill-rule=%22evenodd%22%20clip-rule=%22evenodd%22%20d=%22M13.551%202.534C12.031%201.429%2010.103.867%207.825.867c-1.748%200-3.249.399-4.461%201.184C1.584%203.19.559%205.35.311%207.964a.648.648%200%2000.652.696h3.765c.328%200%20.603-.24.643-.565.077-.634.28-1.353.604-1.872.39-.625%201.054-.928%202.031-.928.994%200%201.672.248%202.018.736.382.542.568%201.125.568%201.785%200%20.56-.164%201.058-.506%201.534-.186.273-.438.53-.756.77l-1.06.837c-1.119.88-1.8%201.65-2.083%202.36-.232.579-.545%201.201-.671%202.427a.657.657%200%2000.65.723h3.71a.659.659%200%2000.65-.593c.028-.245.075-.362.14-.572.16-.506.478-.943.976-1.333l1.033-.807c1.09-.856%201.814-1.549%202.207-2.113.681-.941%201.027-2.108%201.027-3.468%200-2.21-.794-3.909-2.358-5.047zm-3.71%2022.6H6.376a.867.867%200%2001-.866-.867V20.8c0-.48.388-.867.866-.867h3.467c.48%200%20.867.388.867.867v3.467a.866.866%200%2001-.867.866z%22/%3E%3C/svg%3E%0A\",\"position\":\"right\",\"textColor\":\"#FFFFFF\",\"articleId\":\"\",\"categoryId\":\"\",\"restrictedWidget\":false,\"draggable\":false,\"width\":20,\"tooltipDelay\":0,\"showTooltip\":false,\"isChatEnabled\":false,\"newWidgetOverride\":false,\"launcherAriaLabel\":\"Need Help? Open Help Widget\"}"),lt.tooltipContent="Hi! 👋 <br/>Do you need some help getting started with our amazing set of stunning products? Click to talk"}catch(t){}const ct=at.AnswersWidget?at.AnswersWidget.queue:[];at.AnswersWidget=new tt(lt);try{ct.forEach((t=>t()))}catch(t){console.log("Failed to execute callback: ",t)}navigator.sendBeacon(lt.baseUrl+"/bi/"+lt.locale+"?referral_url=https%3A%2F%2Fmanage.wix.com%2F&client_id=b9b3f32d-0197-4b64-a06b-9445e917ebe6&tenant_id=12345678-1234-1234-1234-1234567890ab&answers_brand_id=12345678-1234-1234-1234-1234567890ab&date="+Date.now())}()}();
//# sourceMappingURL=embed.bundle.min.js.map